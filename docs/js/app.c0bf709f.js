(function(e){function t(t){for(var s,a,o=t[0],u=t[1],d=t[2],c=0,p=[];c<o.length;c++)a=o[c],i[a]&&p.push(i[a][0]),i[a]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(s=!1)}s&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var s={},i={app:0},r=[];function a(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=s,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07bb":function(e,t,n){},4303:function(e,t,n){},"4ca5":function(e,t,n){"use strict";var s=n("df54"),i=n.n(s);i.a},5687:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var s=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("Poll for BlueHarvest")]),n("div",{staticClass:"poll-grid"},[n("Question",{staticClass:"cell cell-left",attrs:{editorCode:e.$route.params.editorCode}}),n("AnswerSheet",{staticClass:"cell cell-center",attrs:{pollId:e.$route.params.pollId}}),n("Results",{staticClass:"cell cell-right",attrs:{pollId:e.$route.params.pollId}})],1)])},r=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"default-component"},[e._v("\n  default text\n")])},o=[],u={name:"DefaultComponent",props:{}},d=u,l=(n("e2df"),n("2877")),c=Object(l["a"])(d,a,o,!1,null,"088d5a07",null),p=c.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"questionComponent",staticClass:"question-component"},[n("div",[n("input",{staticClass:"question",attrs:{type:"text",placeholder:"Enter your question here...",maxlength:"80"},domProps:{value:e.query},on:{input:function(t){return e.updateQuery(t)}}})]),n("div",{staticClass:"answers"},[e._l(e.answerList,function(t){return n("div",{key:t.index},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"answer.value"}],style:{width:e.inputWidth+"px"},attrs:{type:"text",maxlength:"80",placeholder:"Enter your "+(1===t.index?"1st":2===t.index?"2nd":3===t.index?"3rd":t.index+"th")+" here answer..."},domProps:{value:t.value},on:{input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}}),n("input",{staticClass:"button button-round button-red",attrs:{type:"button",value:"x"},on:{click:function(n){return e.removeAnswer(t.index-1)}}})])}),e.getAnswerSize()<e.maxSize?n("div",[n("input",{ref:"addAnswerField",style:{width:e.inputWidth+"px"},attrs:{type:"text",placeholder:"Enter your "+(e.getAnswerSize()+1===1?"1st":e.getAnswerSize()+1===2?"2nd":e.getAnswerSize()+1===3?"3rd":e.getAnswerSize()+1+"th")+" here answer...",maxlength:"80"}}),n("input",{staticClass:"button button-blue",attrs:{type:"button",value:"Add"},on:{click:function(t){return e.addAnswer()}}})]):e._e()],2),n("div",{staticClass:"reset"},[e._v("\n            "+e._s(e.getAnswerSize())+"/"+e._s(e.maxSize)+" possible answers\n            "),n("input",{staticClass:"button button-gray",attrs:{type:"button",value:"Reset"},on:{click:function(t){return e.reset()}}})])])},f=[],v=(n("c5f6"),n("d225")),w=function e(t,n){Object(v["a"])(this,e),this.index=t,this.value=n,this.id=-1,this.votes=0,this.setId=function(e){return this.id=e,this},this.setVotes=function(e){return this.votes=e,this},this.addVote=function(){return this.votes++,this}},m={data:{editorCode:"blueharvest",pollId:"debug",query:"Will the the second answer be computed?",answerList:[new w(1,"Yes").addVote().addVote().addVote(),new w(2,"No").addVote()]},methods:{setQuery:function(e){m.data.query=e},setAnswerList:function(e){m.data.answerList=e}}},b=m,y={name:"Question",methods:{generateKey:function(){},getAnswers:function(){},getAnswerSize:function(){return void 0===this.answerList?0:null===this.answerList?0:this.answerList.length},addAnswer:function(){var e=this.$refs.addAnswerField.value;void 0!==e&&null!==e||(e="");var t=new w(this.answerList.length+1,e);this.answerList.push(t),this.$refs.addAnswerField.value=""},removeAnswer:function(e){this.answerList.splice(e,1);for(var t=e;t<this.answerList.length;t++)this.answerList[t].index=t+1;while(this.answerList.length<this.minSize)this.addAnswer()},updateQuery:function(e){b.methods.setQuery(e.target.value),this.query=b.data.query},reset:function(){b.methods.setQuery(""),this.query=b.data.query;for(var e=this.answerList.length,t=0;t<e;t++)this.removeAnswer(0);while(this.answerList.length<this.minSize)this.addAnswer()}},computed:{inputWidth:function(){return this.clientWidth-104}},props:{maxSize:{type:Number,default:10},minSize:{type:Number,default:2},editorCode:{type:String,default:""}},data:function(){return{query:"",answerList:[],clientWidth:0}},created:function(){var e=this;window.addEventListener("resize",function(){e.clientWidth=e.$refs.questionComponent.clientWidth})},mounted:function(){this.clientWidth=this.$refs.questionComponent.clientWidth,this.editorCode===b.data.editorCode&&(this.query=b.data.query,this.answerList=b.data.answerList);while(this.answerList.length<this.minSize)this.addAnswer()}},g=y,x=(n("def4"),n("4ca5"),Object(l["a"])(g,h,f,!1,null,"3a06ee44",null)),L=x.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"answersheet-component"},[n("h2",[e._v(e._s(e.query))]),e._l(e.answerList,function(t){return n("div",{key:t.index},[n("label",{staticClass:"option"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedAnswerIndex,expression:"selectedAnswerIndex"}],attrs:{type:"radio"},domProps:{value:t.index-1,checked:e._q(e.selectedAnswerIndex,t.index-1)},on:{change:function(n){e.selectedAnswerIndex=t.index-1}}}),e._v(e._s(t.index)+". "+e._s(t.value))])])}),n("input",{staticClass:"button button-blue vote",attrs:{type:"button",value:"Vote"},on:{click:function(t){return e.vote()}}})],2)},C=[],I={name:"AnswerSheet",props:{pollId:String},data:function(){return{query:"",answerList:[],selectedAnswerIndex:0}},methods:{vote:function(){this.answerList[this.selectedAnswerIndex].addVote()}},mounted:function(){this.pollId===b.data.pollId&&(this.query=b.data.query,this.answerList=b.data.answerList),setInterval(function(){this.pollId===b.data.pollId&&(this.query=b.data.query,this.answerList=b.data.answerList)}.bind(this),1e3)}},_=I,S=(n("bf90"),n("f06f"),Object(l["a"])(_,A,C,!1,null,"b0b7ec20",null)),q=S.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"resultsInstance",staticClass:"results-component"},[n("apex-chart",{attrs:{type:"bar",options:e.options,series:e.series}})],1)},$=[],j=(n("4be7"),n("5118")),z={name:"Results",props:{pollId:String},data:function(){return{query:"",answerList:[],selectedAnswerIndex:0,options:{chart:{id:"poll-result"},xaxis:{type:"category",categories:[]},legend:{position:"right",offsetY:0,height:230},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},series:[{data:[]}],piechartSeries:[11],piechartOptions:{dataLabels:{enabled:!0},labels:[],legend:{position:"right",offsetY:0,height:230}}}},methods:{},mounted:function(){console.log(this.pollId),console.log(b.data.pollId),this.pollId===b.data.pollId&&(this.answerList=b.data.answerList),Object(j["setInterval"])(function(){for(var e=[],t=[],n=[],s=0;s<this.answerList.length;s++)e.push(this.answerList[s].index),n.push(this.answerList[s].index),t.push(this.answerList[s].votes);this.options.xaxis.categories=e,this.series[0].data=t,this.piechartSeries=t,this.piechartOptions.labels=n}.bind(this),1e3)}},k=z,P=(n("f45a"),Object(l["a"])(k,O,$,!1,null,"ea245a84",null)),W=P.exports,E={name:"app",components:{DefaultComponent:p,Question:L,AnswerSheet:q,Results:W},data:function(){return{pollId:"",editorCode:""}},created:function(){this.pollId=this.$route.params.pollId,this.editorCode=this.$route.params.editorCode}},Q=E,V=(n("5fe6"),n("b0a0"),Object(l["a"])(Q,i,r,!1,null,"1c3f641b",null)),N=V.exports,M=n("8c4f"),R=n("1321"),F=n.n(R),T=n("2f62");s["a"].use(M["a"]),s["a"].use(F.a),s["a"].use(T["a"]),s["a"].component("apex-chart",F.a);var Y=new M["a"]({routes:[{path:"/:pollId/:editorCode",component:N},{path:"/:pollId",component:N}],mode:"history"});s["a"].config.productionTip=!1,new s["a"]({router:Y,render:function(e){return e(N)}}).$mount("#app")},"5fe6":function(e,t,n){"use strict";var s=n("db7f"),i=n.n(s);i.a},"72ee":function(e,t,n){},"8d0c":function(e,t,n){},b0a0:function(e,t,n){"use strict";var s=n("07bb"),i=n.n(s);i.a},bf90:function(e,t,n){"use strict";var s=n("4303"),i=n.n(s);i.a},db7f:function(e,t,n){},def4:function(e,t,n){"use strict";var s=n("e04b"),i=n.n(s);i.a},df54:function(e,t,n){},e04b:function(e,t,n){},e2df:function(e,t,n){"use strict";var s=n("72ee"),i=n.n(s);i.a},f06f:function(e,t,n){"use strict";var s=n("5687"),i=n.n(s);i.a},f45a:function(e,t,n){"use strict";var s=n("8d0c"),i=n.n(s);i.a}});
//# sourceMappingURL=app.c0bf709f.js.map